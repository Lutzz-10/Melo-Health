# Prompt Design Website Puskesmas "Melo Health"

## Deskripsi Proyek
Website sistem informasi dan antrian Puskesmas dengan nama "Melo Health" menggunakan teknologi **PHP**, **MySQL**, dan **TailwindCSS**.

---aaa

## Teknologi Stack
- **Backend**: PHP (Native/Framework seperti CodeIgniter/Laravel)
- **Database**: MySQL
- **Frontend**: TailwindCSS
- **Session Management**: PHP Session untuk autentikasi

---

## Struktur Database

### Tabel: `users`
```sql
CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nama VARCHAR(255) NOT NULL,
    nik VARCHAR(16) UNIQUE NOT NULL,
    alamat TEXT NOT NULL,
    no_hp VARCHAR(15) NOT NULL,
    password VARCHAR(255) NOT NULL,
    foto_profile VARCHAR(255) DEFAULT 'default.jpg',
    status_konfirmasi ENUM('pending', 'confirmed') DEFAULT 'pending',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Tabel: `admin`
```sql
CREATE TABLE admin (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    nama VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Tabel: `berita`
```sql
CREATE TABLE berita (
    id INT PRIMARY KEY AUTO_INCREMENT,
    judul VARCHAR(255) NOT NULL,
    konten TEXT NOT NULL,
    gambar VARCHAR(255),
    tanggal_publish DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Tabel: `dokter`
```sql
CREATE TABLE dokter (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nama VARCHAR(255) NOT NULL,
    spesialisasi ENUM('poli_gigi', 'poli_gizi', 'poli_umum', 'ugd') NOT NULL,
    foto VARCHAR(255),
    jadwal TEXT NOT NULL
);
```

### Tabel: `poli`
```sql
CREATE TABLE poli (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nama_poli ENUM('poli_gigi', 'poli_gizi', 'poli_umum', 'ugd') NOT NULL,
    tipe_layanan TEXT NOT NULL,
    informasi_umum TEXT NOT NULL
);
```

### Tabel: `antrian`
```sql
CREATE TABLE antrian (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    poli_id INT NOT NULL,
    nomor_antrian VARCHAR(10) NOT NULL,
    tanggal_antrian DATE NOT NULL,
    status ENUM('menunggu', 'sudah_digunakan', 'sudah_kadaluarsa') DEFAULT 'menunggu',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (poli_id) REFERENCES poli(id)
);
```

---

## Struktur Halaman & Fitur

### **A. HALAMAN PUBLIK (Sebelum Login)**

#### 1. **Navbar**
- **Logo**: "Melo Health" (kiri)
- **Menu**:
  - Beranda
  - Tentang
  - Berita/Artikel
  - Layanan (Dropdown):
    - Poli Gigi
    - Poli Gizi
    - Poli Umum
    - Unit Gawat Darurat
  - Login (tombol/button)

#### 2. **Halaman Beranda**
- Hero section dengan gambar/ilustrasi kesehatan
- Informasi singkat tentang Puskesmas
- Highlight layanan unggulan
- Berita/artikel terbaru (3-4 artikel)

#### 3. **Halaman Tentang**
- Visi dan Misi Puskesmas
- Sejarah singkat
- Fasilitas yang tersedia
- Kontak dan lokasi (Google Maps)

#### 4. **Halaman Berita/Artikel**
- List semua artikel/berita
- Pagination
- Detail artikel (klik judul)

#### 5. **Halaman Poli (4 halaman terpisah)**
Setiap halaman poli berisi:
- **Tipe Layanan**: Deskripsi layanan yang tersedia
- **Informasi Umum**: Jam operasional, prosedur, dll
- **Jadwal Dokter**: Tabel jadwal dengan foto dokter
- **Tombol "Ambil Nomor Antrian"**: 
  - Jika belum login â†’ Redirect ke halaman login
  - Jika sudah login â†’ Muncul form konfirmasi

#### 6. **Halaman Login**
Form login:
- Input NIK
- Input Password
- Tombol "Login"
- Link/Tombol "Belum punya akun? Daftar di sini" (menuju halaman register)

#### 7. **Halaman Register**
Form registrasi:
- Input Nama Lengkap
- Input NIK (16 digit)
- Input Alamat (textarea)
- Input No HP
- Input Password
- Input Konfirmasi Password
- Tombol "Daftar"
- Catatan: "Setelah mendaftar, silakan datang ke Puskesmas untuk konfirmasi akun"

---

### **B. HALAMAN USER (Setelah Login)**

#### 1. **Navbar**
- Sama seperti sebelum login
- **Perubahan**:
  - Tombol "Login" diganti dengan **Foto Profile User** (kanan atas)
  - Klik foto profile â†’ Dropdown menu:
    - Profile
    - Logout

#### 2. **Halaman Beranda**
- **Tambahan**: Kalimat sapaan "Selamat datang, [Nama User]!"
- Konten lainnya sama

#### 3. **Halaman Poli**
- **Tombol "Ambil Nomor Antrian"** aktif
- Klik tombol â†’ Muncul modal konfirmasi:
  - Tanggal: [Hari ini]
  - Poli: [Nama Poli]
  - Tombol "Konfirmasi" dan "Batal"
- Setelah konfirmasi â†’ Nomor antrian di-generate otomatis
- Notifikasi sukses dengan nomor antrian

#### 4. **Halaman Profile User**
Terdiri dari 3 bagian:

**A. Informasi Profile**
Form untuk edit:
- Nama
- Alamat
- No HP
- Tombol "Simpan Perubahan"

**B. Antrian Aktif (Status: "menunggu")**
- Tabel/Card antrian yang belum digunakan
- Kolom: Nomor Antrian, Poli, Tanggal, Status
- Tombol "Batalkan" untuk membatalkan antrian

**C. Riwayat Antrian (Status: "sudah_digunakan" atau "sudah_kadaluarsa")**
- Tabel/Card riwayat antrian
- Kolom: Nomor Antrian, Poli, Tanggal, Status
- Pagination

---

### **C. HALAMAN ADMIN**

#### 1. **Navbar Admin**
- Logo "Melo Health"
- Menu:
  - Dashboard
  - Konfirmasi Pengguna
  - Atur Berita
  - Antrian Poli
  - Logout

#### 2. **Halaman Dashboard**
- Statistik:
  - Total pengguna terdaftar
  - Total pengguna yang belum dikonfirmasi
  - Total antrian hari ini (per poli)
  - Total berita
- Grafik/chart (opsional)

#### 3. **Halaman Konfirmasi Pengguna**
- Tabel pengguna dengan status "pending"
- Kolom: Nama, NIK, Alamat, No HP, Tanggal Daftar, Aksi
- Tombol aksi:
  - "Konfirmasi" â†’ Ubah status menjadi "confirmed"
  - "Detail" â†’ Lihat detail lengkap pengguna

#### 4. **Halaman Atur Berita**
- **List Berita**:
  - Tabel berita dengan kolom: Judul, Tanggal Publish, Aksi
  - Tombol "Tambah Berita Baru"
  - Aksi: Edit, Hapus

- **Form Tambah/Edit Berita**:
  - Input Judul
  - Textarea Konten (WYSIWYG editor opsional)
  - Upload Gambar
  - Input Tanggal Publish
  - Tombol "Simpan"

#### 5. **Halaman Antrian Poli**
- **Filter Poli** (Dropdown):
  - Semua Poli
  - Poli Gigi
  - Poli Gizi
  - Poli Umum
  - UGD

- **Tabel Antrian**:
  - Filter: Hanya tampilkan antrian hari ini dengan status "menunggu"
  - Kolom: Nomor Antrian, Nama Pasien, Poli, Tanggal, Status, Aksi
  - Aksi:
    - Tombol "Selesai" â†’ Ubah status menjadi "sudah_digunakan"
    - Tombol "Detail" â†’ Lihat detail pasien

---

## Sistem Logika Khusus

### **1. Sistem Antrian Otomatis**
- Generate nomor antrian per poli per hari (format: A001, A002, dst)
- Reset nomor setiap hari baru

### **2. Sistem Kadaluarsa Antrian**
- **Cronjob/Script PHP** yang berjalan setiap hari:
  - Cek antrian dengan status "menunggu" dan tanggal < hari ini
  - Ubah status menjadi "sudah_kadaluarsa"

```php
// Contoh script cronjob
UPDATE antrian 
SET status = 'sudah_kadaluarsa' 
WHERE status = 'menunggu' 
AND tanggal_antrian < CURDATE();
```

### **3. Middleware/Guard**
- Halaman user hanya bisa diakses jika:
  - User sudah login
  - Status konfirmasi = "confirmed"
- Halaman admin hanya bisa diakses jika login sebagai admin

### **4. Validasi NIK**
- NIK harus unik (tidak boleh duplikat)
- Format 16 digit angka

---

## Desain UI/UX dengan TailwindCSS

### **Color Scheme** (Tema Kesehatan)
```css
Primary: #10B981 (Green-500) - Warna utama
Secondary: #3B82F6 (Blue-500) - Aksen
Background: #F9FAFB (Gray-50)
Text: #1F2937 (Gray-800)
Accent: #F59E0B (Amber-500) - Warning/Alert
```

### **Komponen UI**
1. **Navbar**: Sticky top, shadow-md, bg-white
2. **Card**: Rounded-lg, shadow-md, p-6
3. **Button**: 
   - Primary: bg-green-500 hover:bg-green-600
   - Secondary: bg-blue-500 hover:bg-blue-600
4. **Table**: Responsive, striped rows
5. **Form**: Input dengan border-2, focus:ring
6. **Modal**: Backdrop blur, centered

### **Responsive Design**
- Mobile-first approach
- Breakpoints: sm, md, lg, xl
- Hamburger menu untuk mobile

---

## File Structure (Rekomendasi)

```
melo-health/
â”œâ”€â”€ index.php (Beranda)
â”œâ”€â”€ tentang.php
â”œâ”€â”€ berita.php
â”œâ”€â”€ detail-berita.php
â”œâ”€â”€ login.php
â”œâ”€â”€ register.php
â”œâ”€â”€ logout.php
â”œâ”€â”€ poli/
â”‚   â”œâ”€â”€ poli-gigi.php
â”‚   â”œâ”€â”€ poli-gizi.php
â”‚   â”œâ”€â”€ poli-umum.php
â”‚   â””â”€â”€ ugd.php
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ profile.php
â”‚   â””â”€â”€ ambil-antrian.php
â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ dashboard.php
â”‚   â”œâ”€â”€ konfirmasi-pengguna.php
â”‚   â”œâ”€â”€ berita/
â”‚   â”‚   â”œâ”€â”€ index.php
â”‚   â”‚   â”œâ”€â”€ tambah.php
â”‚   â”‚   â””â”€â”€ edit.php
â”‚   â””â”€â”€ antrian.php
â”œâ”€â”€ includes/
â”‚   â”œâ”€â”€ config.php (Database connection)
â”‚   â”œâ”€â”€ functions.php
â”‚   â””â”€â”€ navbar.php
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css (Custom CSS)
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ script.js
â”‚   â””â”€â”€ images/
â””â”€â”€ cronjob/
    â””â”€â”€ update-antrian.php
```

---

## Fitur Keamanan

1. **Password Hashing**: Gunakan `password_hash()` dan `password_verify()`
2. **Prepared Statements**: Untuk mencegah SQL Injection
3. **CSRF Protection**: Token untuk form
4. **Session Security**: 
   - `session_regenerate_id()`
   - Timeout session
5. **Input Validation**: Validasi semua input user
6. **XSS Prevention**: `htmlspecialchars()` untuk output

---

## Alur Kerja User

1. User register â†’ Status "pending"
2. User datang ke Puskesmas â†’ Admin konfirmasi
3. User login â†’ Akses penuh website
4. User pilih poli â†’ Ambil nomor antrian
5. User datang ke Puskesmas sesuai jadwal
6. Admin ubah status antrian â†’ "sudah_digunakan"
7. Antrian muncul di riwayat user

---

## Catatan Tambahan

- **Upload Foto**: Batas ukuran max 2MB, format JPG/PNG
- **Pagination**: 10 item per halaman
- **Notifikasi**: Gunakan sweetalert2 atau toast notification
- **Loading State**: Spinner saat proses AJAX
- **Error Handling**: Tampilkan pesan error yang user-friendly

---

**Selamat mengembangkan website Melo Health! ðŸ¥ðŸ’š**